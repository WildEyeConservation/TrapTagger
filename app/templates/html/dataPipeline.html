<!-- Copyright 2022

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License. -->

{% extends 'base.html' %}
{% import 'bootstrap/wtf.html' as wtf %}

{% block app_content %}
<br>
<br>
<div class="row">
    <div class="col-lg-4"></div>
    <div class="col-lg-4">
        
        <div id="errors" style="font-size: 80%; color: #DF691A"></div>
        <br>

        <h5 style="margin-bottom: 2px">Survey Name</h5>
        <div style="font-size: 80%; margin-bottom: 2px"><i>The name for the survey.</i></div>
        <div class="row">
            <div class='col-lg-6'>
                <input type="text" class="form-control" required id="surveyName"></input>
            </div>
        </div>
        <br>

        <h5 style="margin-bottom: 2px">Destination Bucket</h5>
        <div style="font-size: 80%; margin-bottom: 2px"><i>The name of the destination S3 bucket for the crops.</i></div>
        <div class="row">
            <div class='col-lg-6'>
                <input type="text" class="form-control" required id="bucketName"></input>
            </div>
        </div>
        <br>

        <h5 style="margin-bottom: 2px">Data Source</h5>
        <div style="font-size: 80%; margin-bottom: 2px"><i>Source URL or S3 folder name.</i></div>
        <div class="row">
            <div class='col-lg-6'>
                <input type="text" class="form-control" required id="dataSource"></input>
            </div>
        </div>
        <br>

        <h5 style="margin-bottom: 2px">Site Identifier</h5>
        <div style="font-size: 80%; margin-bottom: 2px"><i>Full regular expression.</i></div>
        <div class="row">
            <div class='col-lg-6'>
                <input type="text" class="form-control" required id="trapgroupCode"></input>
            </div>
        </div>
        <br>

        <h5 style="margin-bottom: 2px">Minimum Detection Area</h5>
        <div style="font-size: 80%; margin-bottom: 2px"><i>The minimum normalised area of a detection for a crop to be made for it.</i></div>
        <div class="row">
            <div class='col-lg-6'>
                <input type="text" class="form-control" required id="min_area"></input>
            </div>
        </div>
        <br>

        <h5 style="margin-bottom: 2px">Exclusions</h5>
        <div style="font-size: 80%; margin-bottom: 2px"><i>Directory path terms to ignore eg. thumb will prevent thumbnails from being imported. Type out a list.</i></div>
        <div class="row">
            <div class='col-lg-6'>
                <input type="text" class="form-control" id="exclusions"></input>
            </div>
        </div>
        <br>

        <h5 style="margin-bottom: 2px">Source Bucket</h5>
        <div style="font-size: 80%; margin-bottom: 2px"><i>The source S3 bucket if the data source is a folder name.</i></div>
        <div class="row">
            <div class='col-lg-6'>
                <input type="text" class="form-control" id="sourceBucket"></input>
            </div>
        </div>
        <br>

        <h5 style="margin-bottom: 2px">Exif Label Source</h5>
        <div style="font-size: 80%; margin-bottom: 2px"><i>The exif field from which labels should be extracted. Leave blank if there are no exif labels. Allowed values: iptc.</i></div>
        <div class="row">
            <div class='col-lg-6'>
                <input type="text" class="form-control" id="label_source"></input>
            </div>
        </div>
        <br>

        <h5 style="margin-bottom: 2px">Source csv File</h5>
        <div style="font-size: 80%; margin-bottom: 2px"><i>An optional reference csv for importing a survey. Requires a filename, and species column. Nothing or unknown labels are ignored automatically.</i></div>
        <div class="row">
            <div class="col-lg-6">
                <div class="input-group">
                    <input style="background-color:white" type="text" id="csvFileUploadText" class="form-control" disabled="">
                    <label class="input-group-btn">
                        <span class="btn btn-primary">Browse
                            <input type="file" style="display:none" id="csvFileUpload" accept=".csv">
                        </span>
                    </label>
                </div>
            </div>
        </div>
        <br>
        <div class="col-lg-3">
            <button class="btn btn-primary btn-block" onclick=submitRequest()>Submit</button>
        </div>
    </div>
    <div class="col-lg-4"></div>
</div>
{% endblock %}

{% block page_scripts %}
<script src="js/camtrap.dataPipeline.v{{ version }}.js"></script>
{% endblock %}