<!-- Copyright 2023

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License. -->

<p align="justify">
    Here you can create a new survey. Let us begin with some background information:
</p>

<ul>
    <li>
        A survey is simply a set of files which can consist of images and/or videos.
    </li>
    <li>
        There is no hard limit on survey size, but it is recommended that you keep your survey to below 300 000 images/frames otherwise processing times can become excessive.
    </li>
    <li>
        If you are continually monitoring a particular area, you can simply separate your data into yearly, monthly, or seasonally, and then combine the results at the end as needed.
    </li>
    <li>
        You can always add additional files to a survey at any time by using that 'add files' option.
    </li>
    <li>
        Surveys consist of a number of sites/stations - which are points in space where your cameras are stationed.
    </li>
    <li>
        Each site can have multiple cameras - typically on either side of a game trail, or overlooking the same waterhole or bait station.
    </li>
    <li>
        This site/station and camera information is extracted from the structure of the folder you upload - where one typically keeps a separate folder per site/station and then a separate folder per camera within that, with a consistent overarching naming schema.
    </li>
    <li>
        Timestamps will be extracted directly from the EXIF data of your images and videos where possible. Failing that, these will be visually read off the file itself using AI. Where all else fails, timestamps can be corrected or added manually.
    </li>
    <li>
        Coordinates are not required but can be added in the edit survey window.
    </li>
</ul>
    
<h4>Survey Name, Description and Organisation</h4>

<p align="justify">
    Begin by giving your new survey a unique name, and an optional description. Select the organisation that will own the survey.
</p>

<h4>Data Source, Trigger Source and Advanced Options</h4>

<p align="justify">
   Next select the data and trigger source for your survey. You also have the option to select advanced options for your survey.
</p>

<h4>Permissions</h4>

<p align="justify">
    Next, select the permissions for the survey for all non-admin users excluding yourself. You will have write access to the survey by default. You can select to give
    other users their default permissions or you can select the type of access that they will have to the survey. Additionally you can add permission exceptions for specific users.
</p>

<h4>Species Classifier</h4>

<p align="justify">
    Next select the species classifier that you would like to use to identify the species in your data. Always try use the most-localised classifier applicable to your data. 
    So for example, if your data is from South Africa, the best classifier for your data would be the Southern-African classifier, then next best would be the sub-Saharan classifier, and then the global classifier. 
</p>

<h4>File Upload</h4>

<p align="justify">
    Thereafter you need to specify which files (images and/or videos) should be pocessed and associated with this survey. Simply click the 'add files' button and then select 
    the top-level folder containing all of your camera-trap data - across all the sites and cameras you want to process. If you see a pop-up from your browser requesting 
    permission to access your files - grant it.
</p>

<p align="justify"></p>
    The actual upload will only start when you submit the form. This will occur through your browser, and thus you must keep the tab open in order for it to run. 
    If the upload is interrupted for some reason, simply click the 'resume' button and re-select your data. The system will automatically determine what has already 
    been uploaded and get back to where it left off.
</p>

<p align="justify">
    If the file selection capability or the uploader aren't functioning correctly, it is likely the result of your browser not supporting this functionality. Please switch to Google Chrome instead.
</p>

<br>

<h4>Sites/Stations and Cameras</h4>

<p align="justify">
    Finally, you need to specify how your folders pertain to your sites/stations and cameras - where both are identified using the same techniques. If you only have one camera per site/station,
    then you only need to identify your sites. There are two ways to go about this:
        <ol>
            <li>Selecting the folder level from the folder path that represents your sites/stations or cameras.</li>
            <li>Using a simple string matching approach, where you specify a string that is contained within the folder names or using a regular expression, which allows for more complex matching patterns.</li>
        </ol>
</p>

<p align="justify">
    The first option is the simplest. The deepest path in the folder you have selected will be displayed. You must then just click the folder that pertains to either your 
    camera or site (depending on which one you are currently specifying). This selection (of say the 2nd folder down) is then automatically applied to the rest of your folders. 
    If your folder paths are inconsistent, then you will need to use the matching appraoch instead.
</p>

<p align="justify">
    In the second option, the system will look for folders that contain your specified string of characters along with any number of digits thereafter.
    The simplest example of this would be:
</p>

<div align="justify">
    SurveyName/Site01/camera1/
</div>
<div align="justify">
    SurveyName/Site01/camera2/
</div>
<div align="justify">
    SurveyName/Site02/camera1/
</div>
<div align="justify">
    SurveyName/Site02/camera2/
</div>
<br>
    
<p align="justify">    
    where a site identifier of the word "Site" would identify the folders "Site01", and "Site02" as containing 
    all the images from sites 1, and 2 respectively. If you have multiple cameras per site, you can use the same principle to identify the camera folders,
    for example, using "camera" as the camera identifier would identify the folders "camera1", and "camera2" as containing all the images from camera 1, and camera 2 respectively.
    If you only have one camera per site, a camera identifier is not required.
</p>

<p align="justify">
    These folder names can occur multiple times within the folder structure without issue if you have your data split by month, 
    for example. However, please note that if you identifier matches multiple folders in the path for a single image, the first match is used, so ensure that it will not 
    match with your top-level folder name, for example.
</p>

<p align="justify">
    Should your site-naming convention differ from this schema, you can use the advanced option to specify a <a href="https://www.w3schools.com/python/python_regex.asp"> 
    regular expression</a> - a type of programmable search query. Use the built-in regular-expression builder to build up your site identifier.
</p>

<p align="justify">
    Either way, the system will check your specified site identifier against the folder of images that you are importing, and report back both the number of sites identified,
    and their names. Use this information to ensure that you have specified the correct site identifier for your data.
</p>

<h4>Survey Structure</h4>
<p align="justify">
    Please verify the detected survey structure as you will not be able to change it later on. The system will display the detected sites/stations and their cameras based on your identifiers.
</p>