<!-- Copyright 2023

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License. -->

<p align="justify">
    Here you can create a new survey. Let us begin with some background information:
</p>

<ul>
    <li>
        A survey is just a set of files which can consist of images and/or videos. You can separate your data along any line you wish, be that be a survey per year, or per month, or per season.
    </li>
    <li>
        You can always add additional files to a survey at any time.
    </li>
    <li>
        There is no limit on survey size, but it is recommended that you keep your survey size to under 300 000 files to experience best peformance.
    </li>
    <li>
        Files within a survey are broken down into sites and cameras, where you can have multiple cameras per site.
    </li>
    <li>
        For efficiency, sites and cameras are automatically defined according to the folder structure of the files you upload since files are typically stored in 
        a folder structure with a folder per site, and a folder per camera within that.
    </li>
    <li>
        Timestamps will be extracted directly from your image exif data or video metadata. Whilst site coordinates can be added in the edit survey window.
    </li>
</ul>
    
<h4>Survey Name, Description and Organisation</h4>

<p align="justify">
    Begin by giving your new survey a unique name, and an optional description. Select the organisation that will own the survey.
</p>

<h4>Data Source, Trigger Source and Advanced Options</h4>

<p align="justify">
   Next select the data and trigger source for your survey. You also have the option to select advanced options for your survey.
</p>

<h4>Permissions</h4>

<p align="justify">
    Next, select the permissions for the survey for all non-admin users excluding yourself. You will have write access to the survey by default. You can select to give
    other users their default permissions or you can select the type of access that they will have to the survey. Additionally you can add permission exceptions for specific users.
</p>

<h4>Species Classifier</h4>

<p align="justify">
    Next select the species classifier that you would like to use as your species-identifying AI. Please note that the MegaDetector 
    is used in each of the species classifiers as it is used for basic classification of vehicles, humans, and animals. 
    MegaDetector should only be selected when the available species classifiers does not cover the species in your biome. 
</p>

<h4>File Upload</h4>

<p align="justify">
    Thereafter you need to specify which files should be pocessed and associated with this survey. Your files can consist of images and/or videos.
    Your files for the survey are uploaded using the browser:
</p>

<div align="justify">
    Upload the files directly through your internet browser by selecting your top-level folder of files to upload using the 'add files' button. 
    The upload will commence when you press the create button, thereafter the files will be automatically imported upon upload completion. 
    Please do not navigate from the surveys page otherwise the upload of files will stop.
</div>
<br>

<h4>Site/Station Identifier and Camera Identifier</h4>

<p align="justify">
    Thereafter, you must specify a site/station identifier as well as a camera identifier. This is used to determine which folders within your folder structure relate to your camera sites.
    You will have two options identifying your sites and cameras:
        <ol>
            <li>Selecting the folder level from the folder path that represents your sites/stations and cameras.</li>
            <li>Using a simple string matching approach, where you specify a string that is contained within the folder names or using a regular expression, which allows for more complex matching patterns.</li>
        </ol>
</p>

<p align="justify">
    The first option is the simplest. You will be displayed the first folder path of your own files and you can simply select the correct folder that correspons to your sites/stations.
    If you only have one camera per site, you will have no need to specify the cameras. If you have multiple cameras per site,
    you will also be displayed the first folder path of your own files and can you simply select the correct folder that corresponds to your cameras or use the matching approach described below.
</p>

<p align="justify">
    In the second option, the system will look for folders that contain your specified string of characters along with any number of digits thereafter.
    The simplest example of this would be:
</p>

<div align="justify">
    SurveyName/Site01/camera1/
</div>
<div align="justify">
    SurveyName/Site01/camera2/
</div>
<div align="justify">
    SurveyName/Site02/camera1/
</div>
<div align="justify">
    SurveyName/Site02/camera2/
</div>
<br>
    
<p align="justify">    
    where a site identifier of the word "Site" would identify the folders "Site01", and "Site02" as containing 
    all the images from sites 1, and 2 respectively. If you have multiple cameras per site, you can use the same principle to identify the camera folders,
    for example, using "camera" as the camera identifier would identify the folders "camera1", and "camera2" as containing all the images from camera 1, and camera 2 respectively.
    If you only have one camera per site, a camera identifier is not required.
</p>

<p align="justify">
    These folder names can occur multiple times within the folder structure without issue if you have your data split by month, 
    for example. However, please note that if you identifier matches multiple folders in the path for a single image, the first match is used, so ensure that it will not 
    match with your top-level folder name, for example.
</p>

<p align="justify">
    Should your site-naming convention differ from this schema, you can use the advanced option to specify a <a href="https://www.w3schools.com/python/python_regex.asp"> 
    regular expression</a> - a type of programmable search query. Use the built-in regular-expression builder to build up your site identifier.
</p>

<p align="justify">
    Either way, the system will check your specified site identifier against the folder of images that you are importing, and report back both the number of sites identified,
    and their names. Use this information to ensure that you have specified the correct site identifier for your data.
</p>

<h4>Survey Structure</h4>
<p align="justify">
    Please verify the detected survey structure. The system will display the detected sites/stations and their cameras based on your identifiers.
</p>