<!-- Copyright 2022

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License. -->

<p align="justify">
    Here you can create a new survey. Begin by giving it a unique name, and an optional description.
</p>

<p align="justify">
    Next, you can add a Google Earth generated kml file of the coordinates of your camera traps, making sure that the cameras are correctly named using your 
    trapgroup codes eg. DEQ72. This is entirely optional, and is only necessary should you wish to make use of the map-based results, or include the coordinates in your csv files.
</p>

<p align="justify">
    If you know there are errors in the timestamps generated by some of your cameras, we can attempt to identify and fix these for you. However, it is recommended that you rather do 
    this manually using the edit survey option immediatedly after survey import if at all possible.
</p>

<p align="justify">
    Your survey images need to be processed and associated with this new survey. You have two options to upload images:
</p>

<div align="justify">
    1. Bucket Upload
</div>
<div class='row'>
    <div class='col-lg-1'></div>
    <div class='col-lg-11'>
        <div align="justify">
            <i>This is the recommended option, and is a necessity for larger surveys.</i> 
            You must first upload the images directly to our Amazon S3 storage using a third-party application such as 
            <a href='https://s3browser.com/'>s3browser</a> before creating a survey here. Once that is complete, create a survey here by filling in the survey 
            information and entering the top-level folder name for your survey in the 
            field provided and submit. The importing of your images will then commence. Detailed instructions for using s3browser are as follows:
            <ul>
                <li>Open the application.</li>
                <li>You will be prompted to create a new account.</li>
                <li>Give it any name you wish.</li>
                <li>Leave the default account type.</li>
                <li>Enter your access key ID and secret access key (that you recieved in your email).</li>
                <li>Leave the default check boxes, and submit.</li>
                <li>It will prompt you to add an external bucket - select yes.</li>
                <li>Enter the bucket name (traptagger-*Your account name*-raw) and submit.</li>
                <li>Click on the upload button, and select upload folder.</li>
                <li>Navigate to and select the top-level folder for the images, and submit.</li>
            </ul>
        </div>
        <br>
        <div align="justify">
            
        </div>
    </div>
</div>
<br>

<div align="justify">
    2. Browser Upload
</div>
<div class='row'>
    <div class='col-lg-1'></div>
    <div class='col-lg-11'>
        <div align="justify">
            Enter all the survey information in now, and then upload the images directly from your browser by selecting a folder of images to upload using the 'add images' button. 
            The upload will commence when you press the create button, thereafter the images will be automatically imported upon upload completion. However, this only works for small surveys that 
            contain fewer than ~10 000 images.
        </div>
    </div>
</div>
<br>

<p align="justify">
    Lastly, you must specify a trapgroup code. A trapgroup code is a code used to uniquely identify your individual camera-trap locations within your folder structure, where a single location may have multiple cameras. 
    This allows a single trapgroup's images to be split over multiple folders 
    in the case that you have a date-based folder structure, for example. By default, the system will look for, and identify, trapgroups based on the string of characters you provide 
    along with any number of digits thereafter. The trapgroup identifier will end when something other than a number is encountered. For example, if you specify your 
    trapgroup code as 'DEQ', and you have a folder structure in the form of '06-12/18-02/DEQ72-t17-1410/1875/IMAG01254.jpg', the system will identify the trapgroup identifier as 
    DEQ72, and group the images under that folder with any other folders containing the DEQ72 identifier.
</p>

<p align="justify">
    Should your site-naming convention differ from this schema, you can use the advanced trapgroup option to specify a <a href="https://www.w3schools.com/python/python_regex.asp"> 
    regular expression</a> - a type of programmable search query. Use the built-in regular-expression builder to build up your trapgroup code.
</p>

<p align="justify">
    Note that the folder structure of your survey forms an integral part of the import process, where your lowest image-containing folder level is assumed to differentiate cameras. 
    These are then in turn grouped into locations, known as trapgroups (that can contain multiple cameras each), by being included in trapgroup folders, which are identified by a code (your trapgroup code). 
    This code must not appear anywhere else in the folder structure, including the top-level survey name, but excluding the image file name. This allows you to, for example, 
    capture images of both sides of an animal for identification purposes.
    Timestamps will be extracted directly from your image exif data.
    An example folder structure with data collected in May and June across 2 camera sites (with code Site), with 2 cameras each is as follows:
</p>

<div align="justify">
    SurveyName/May/Site01/camera1/
</div>
<div align="justify">
    SurveyName/May/Site01/camera2/
</div>
<div align="justify">
    SurveyName/May/Site02/camera1/
</div>
<div align="justify">
    SurveyName/May/Site02/camera2/
</div>
<br>
<div align="justify">
    SurveyName/June/Site01/camera1/
</div>
<div align="justify">
    SurveyName/June/Site01/camera2/
</div>
<div align="justify">
    SurveyName/June/Site02/camera1/
</div>
<div align="justify">
    SurveyName/June/Site02/camera2/
</div>
<br>     